<html>

<head>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.9.2/lib/theme-chalk/index.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link href="https://cdn.quilljs.com/1.3.4/quill.snow.css" rel="stylesheet">
</head>
<!-- vue-quill-editor -->

<body>
    <div id="app">
        <el-table :data="tableData" border style="width: 100%" :cell-style="{'vertical-align':'center'}">
            <el-table-column prop="id" label="id" width="60">
            </el-table-column>
            <el-table-column prop="name" label="名称" width="180">
            </el-table-column>
            <el-table-column prop="thumbnail" label="缩略图" width="300">
                <!-- 图片的显示 -->
                <template slot-scope="scope">
                    <el-image style="width: 200px; height: 200px" :src="scope.row.thumbnail"></el-image>
                </template>
            </el-table-column>
            <el-table-column prop="prices" label="价格" width="100">
            </el-table-column>
            <el-table-column prop="detail" label="产品权益介绍">
            </el-table-column>
            <el-table-column label="操作">
                <template slot-scope="scope">
                    <el-button size="mini" @click="handleEdit(scope.$index, scope.row)">编辑</el-button>
                    <el-button size="mini" type="danger" @click="handleDelete(scope.$index, scope.row)">删除</el-button>
                </template>
            </el-table-column>
        </el-table>

        <el-dialog :title="title" :visible.sync="dialogFormVisible">
            <el-form :model="form">
                <el-form-item label="名称">
                    <el-input v-model="form.name" autocomplete="off"></el-input>
                </el-form-item>
                <!-- <el-form-item label="缩略图"> -->
                    <el-upload action="#" list-type="picture-card" :auto-upload="false">
                        <i slot="default" class="el-icon-plus"></i>
                        <div slot="file" slot-scope="{file}">
                            <img class="el-upload-list__item-thumbnail" :src="file.url" alt="">
                            <span class="el-upload-list__item-actions">
                                <span class="el-upload-list__item-preview" @click="handlePictureCardPreview(file)">
                                    <i class="el-icon-zoom-in"></i>
                                </span>
                                <span v-if="!disabled" class="el-upload-list__item-delete"
                                    @click="handleDownload(file)">
                                    <i class="el-icon-download"></i>
                                </span>
                                <span v-if="!disabled" class="el-upload-list__item-delete" @click="handleRemove(file)">
                                    <i class="el-icon-delete"></i>
                                </span>
                            </span>
                        </div>
                    </el-upload>
                    <el-dialog :visible.sync="dialogVisible">
                        <img width="100%" :src="dialogImageUrl" alt="">
                    </el-dialog>
                <!-- </el-form-item> -->
                <el-form-item label="价格">
                    <el-input v-model="form.prices" autocomplete="off"></el-input>
                </el-form-item>
                <el-form-item label="产品权益介绍">
                    <el-input v-model="form.detail" autocomplete="off"></el-input>
                </el-form-item>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button @click="dialogFormVisible = false">取 消</el-button>
                <el-button type="primary" @click="dialogFormVisible = false">确 定</el-button>
            </div>
        </el-dialog>
        <quill-editor ref="MyTextEditor" v-model='form.detail'>
        </quill-editor>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4/dist/vue-resource.min.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/element-ui@2.9.2/lib/index.js"></script> -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://cdn.quilljs.com/1.3.4/quill.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-quill-editor@3.0.4/dist/vue-quill-editor.js"></script>
  

</html>
<script>
    Vue.use(window.VueQuillEditor);
    var vm = new Vue({
        el: '#app',
        created: function () {
            this.$http.post(
                'http://123.206.95.76:7081/sdkapi/v1/sms/send', {
                    "phone": "13524519561",
                    "event":"register"
                }, {
                    emulateJSON: true
                }).then(function (res) {
                this.$message('添加成功');
            }, function () {
                this.tableData = [{
                    'id': 1,
                    'name': '太空基因计划 | DSPACE',
                    'thumbnail': 'http://www.spacegenebank.com/images/zhuchanp.jpg',
                    'prices': 22220,
                    'detail': "您的基因将在太空中长期保存并参与人类太空基因库的建设参与濒危物种的拯救计划有机会亲临发射中心见证火箭发射全过程获取进驻“火星社会”资格并尊享VIP待遇定期受邀参加高端晚宴与线下活与动的资格"
                }, {
                    'id': 2,
                    'name': '太空基因计划2222 | DSPACE',
                    'thumbnail': 'http://www.spacegenebank.com/images/zhuchanp.jpg',
                    'prices': 11120,
                    'detail': "您的基因将在太空中长期保存并参与人类太空基因库的建设参与濒危物种的拯救计划有机会亲临发射中心见证火箭发射全过程获取进驻“火星社会”资格并尊享VIP待遇定期受邀参加高端晚宴与线下活与动的资格"
                }, {
                    'id': 3,
                    'name': '太空基因计划333 | DSPACE',
                    'thumbnail': 'http://www.spacegenebank.com/images/zhuchanp.jpg',
                    'prices': 20,
                    'detail': "您的基因将在太空中长期保存并参与人类太空基因库的建设参与濒危物种的拯救计划有机会亲临发射中心见证火箭发射全过程获取进驻“火星社会”资格并尊享VIP待遇定期受邀参加高端晚宴与线下活与动的资格"
                }];
                // this.$message.error('添加失败');
            });

        },
        data: {
            // test: 'this is first vue',
            tableData: [],
            title: '',
            dialogFormVisible: false,
            form: {
                name: '',
                thumbnail: '',
                prices: '',
                detail: "<ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">您的基因将在太空中长期保存并参与人类太空基因库的建设<br/></p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">参与濒危物种的拯救计划</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">有机会亲临发射中心见证火箭发射全过程</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">获取进驻“火星社会”资格并尊享VIP待遇</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">定期受邀参加高端晚宴与线下活与动的资格</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">有机会获取参观NASA与SPACEX发射基地的资格</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">全球限量定制纪念品与专属证书一份</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">优先获得太空旅游机会</p></li></ul><p><br/></p>"
            },
            dialogImageUrl: '',
            dialogVisible: false,
            disabled: false
        },
        methods: {
            handleEdit(index, row) {
                // window.location.href = 'edit.html';
                // this.$http.post(
                //     'http://admin.spacegenebank.com:9000/product/one', {
                //         id: row.id
                //     }, {
                //         emulateJSON: true
                //     }).then(function (res) {
                //     console.log(res);
                //     // this.$message('添加成功');
                //     this.dialogFormVisible = true;
                //     this.title = '编辑';
                // }, function () {
                //     this.$message.error('获取数据失败');
                // });

                this.dialogFormVisible = true;
                this.title = '编辑';
                this.form.name = '太空基因计划 | DSPACE';
                this.form.thumbnail = 'http://www.spacegenebank.com/images/zhuchanp.jpg';
                this.form.prices = '2222';
                this.form.detail =
                    "<ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;\"><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">您的基因将在太空中长期保存并参与人类太空基因库的建设<br/></p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">参与濒危物种的拯救计划</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">有机会亲临发射中心见证火箭发射全过程</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">获取进驻“火星社会”资格并尊享VIP待遇</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">定期受邀参加高端晚宴与线下活与动的资格</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">有机会获取参观NASA与SPACEX发射基地的资格</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">全球限量定制纪念品与专属证书一份</p></li><li><p style=\"list-style: none; padding: 0px; margin-top: 0px; margin-bottom: 0px; border: none; line-height: 1.5em;\">优先获得太空旅游机会</p></li></ul><p><br/></p>";
                // console.log(index, row);
            },
            handleDelete(index, row) {
                console.log(index, row);
            },
            handleRemove(file) {
                console.log(file);
            },
            handlePictureCardPreview(file) {
                this.dialogImageUrl = file.url;
                this.dialogVisible = true;
            },
            handleDownload(file) {
                console.log(file);
            }
        },
    })
</script>
